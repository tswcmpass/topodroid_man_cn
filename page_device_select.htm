<html>
<body>
<h4>设备选择</h4>

TopoDroid支持以下设备：
<ul>
<li>DistoX（第一版）</li>
<li>DistoX2（第二版）</li>
<li>DistoXBLE（第三版）</li>
<li>Sap5（Shetland Attack Pony），仅支持带有蓝牙的型号</li>
<LI>Bric4（Bluetooth Ruggerized Integrated Cartographer）</li>
</ul>

所有设备都必须与Android进行配对。<br><p>

通常情况下，TopoDroid只与一个设备配合使用。
数据可以连续下载（<i>连续</i>模式）或批量下载（<i>按需</i>模式）。
两种模式之间的区别在于，<i>连续</i>模式在数据下载完成或与设备连接丢失后仍保持活动状态，而<i>按需</i>模式会关闭。<br><p>

Sap5和Bric4只在连续模式下下载数据。<br><p>

使用DistoX时，TopoDroid可以同时使用多个设备，尽管数据仍然只从一个设备下载。
<i>数据下载模式</i>必须设置为<i>多</i>。
当设置为多设备模式时，长按<i>下载</i>按钮会弹出一个对话框，选择从哪个DistoX下载数据。<br><p>

<b>Shetland Attack Pony</b><br>

TopoDroid支持Shetland Attack Pony型号5（Sap5），带有蓝牙功能。<br>
设备必须先在Android上进行"配对"，使用<i>设置</i>应用程序。
PIN码为"000000"（六个零）。<br>
之后，Sap5将在<i>设备窗口</i>中列出在已知设备列表中。
它会显示为"SAP XX MAC地址"，其中"XX"是Sap5的两个字母代码，例如"HG"。<br>
要将Sap5选为当前设备，请点击列表中的其条目。<br><p>

连接时，Sap5将将一个测量值传输到应用程序，无论测量数据是否在设备上存储或丢弃。<br><p>

Sap5的数据传输协议不包括数据接收的确认。因此：
<ul>
<li>如果Sap5未连接，则测量值将<u>不会传输</u>到应用程序。</li>
<li>在重新连接时，Sap5<u>不会</u>传输在未连接时存储的测量数据。</li>
</ul>
<br><p>

Sap5将存储在其内部存储器中的数据称为"已存储"数据。
可以使用Sap PonyTrainer程序将这些数据检索为Survex文件。<br><p>

Sap5的校准由设备执行，不需要外部程序。<br><p>

<b>Bric4</b><br>

TopoDroid支持Bric4版本4。<br>
设备必须先在Android上进行"配对"，使用<i>设置</i>应用程序。<br>
之后，Bric4将在<i>设备窗口</i>中列出在已知设备列表中。
它会显示为"Bric4代码MAC地址"，其中代码是Bric4的四位代码，例如"0039"。<br>
要将Bric4选为当前设备，请点击列表中的其条目。<br><p>

一旦连接到客户端，即使关闭电源，Bric4也会记住连接，因此它会保持"始终连接"状态。<br>
当TopoDroid连接后，测量值会立即传输到Android。
如果TopoDroid未连接，则数据将保存在内存中，并在下次连接应用程序时传输。<br><p>

Bric4的数据传输协议包括Android的确认，但不包括应用程序接收数据的确认。
协议在连接后的几秒钟内延迟一些时间，然后才进行第一次数据传输，
而TopoDroid在最后一个数据之后会延迟一秒钟后再关闭连接。
通过这种方式，通常不会丢失测量值，但不能保证，并且在下一个测量值到达之前，
如果Android在下一个测量值到达之前未通知应用程序，测量值<u>会丢失</u>。
<br><p>

Bric4将数据存储在内部存储器中的CSV文件中。如果通过USB连接到PC，设备会显示为外部存储器，CSV文件可以复制到PC中。<br><p>

Bric4的校准由设备执行，不需要外部程序。<br><p>

Bric4可以从应用程序中进行控制。特别是可以控制激光的开/关以及进行测量。
Bric4还具有"扫描模式"，在该模式下连续进行测量，每秒大约进行两次测量。<br><p>

TopoDroid可以遵循三种不同的数据协议（根据"自定义"设置）。
第一种只接收主要数据（距离、方位和倾角），这些数据不包括Bric4分配的数据ID编号。
其他两种接收完整数据。它们的区别在于TopoDroid是否使用提供的ID编号，还是分配自己的编号。
<br>
当接收到完整数据时，TopoDroid会将Bric4的错误代码和值记录在测量值的注释中。
<br><p>

</body>
</html>
